[modes]
modes = release-gnu release-gnu-dynamic release-intel debug-gnu debug-gnu-dynamic

[release-gnu]
compiler=Gnu
cflags=-c -O2 -std=f2008 -ffree-line-length-none
lflags=-static-libgcc -static-libgfortran -static
build_dir=.
src=../src/
libs = ../lib/libaed2/obj/aed_bio_particles.o
	   ../lib/libaed2/obj/aed_bio_utils.o
	   ../lib/libaed2/obj/aed_carbon.o
	   ../lib/libaed2/obj/aed_common.o
	   ../lib/libaed2/obj/aed_core.o
	   ../lib/libaed2/obj/aed_csv_reader.o
	   ../lib/libaed2/obj/aed_dummy.o
	   ../lib/libaed2/obj/aed_external.o
	   ../lib/libaed2/obj/aed_gclib.o
	   ../lib/libaed2/obj/aed_gcsolver.o
	   ../lib/libaed2/obj/aed_gctypes.o
	   ../lib/libaed2/obj/aed_geochemistry.o
	   ../lib/libaed2/obj/aed_habitat_water.o
	   ../lib/libaed2/obj/aed_nitrogen.o
	   ../lib/libaed2/obj/aed_noncohesive.o
	   ../lib/libaed2/obj/aed_organic_matter.o
	   ../lib/libaed2/obj/aed_oxygen.o
	   ../lib/libaed2/obj/aed_pathogens.o
	   ../lib/libaed2/obj/aed_pesticides.o
	   ../lib/libaed2/obj/aed_phosphorus.o
	   ../lib/libaed2/obj/aed_phytoplankton.o
	   ../lib/libaed2/obj/aed_sedflux.o
	   ../lib/libaed2/obj/aed_silica.o
	   ../lib/libaed2/obj/aed_totals.o
	   ../lib/libaed2/obj/aed_tracer.o
	   ../lib/libaed2/obj/aed_util.o
	   ../lib/libaed2/obj/aed_water.o
	   ../lib/libaed2/obj/aed_zoop_utils.o
	   ../lib/libaed2/obj/aed_zooplankton.o
include = ../lib/libaed2/mod/
colors=False
quiet=False
target=simstrat.f90
output=simstrat
dependon=../lib/csv_fortran/fobos:release-gnu((direct))
         ../lib/json_fortran/fobos:release-gnu((direct))
         ../lib/forbear/fobos:static-gnu((direct))
log=True

[release-gnu-dynamic]
compiler=Gnu
cflags=-c -O2 -std=f2008 -ffree-line-length-none
lflags=-dynamic-libgcc -dynamic-libgfortran -dynamic
build_dir=.
src=../src/
libs = ../lib/libaed2/obj/aed_bio_particles.o
	   ../lib/libaed2/obj/aed_bio_utils.o
	   ../lib/libaed2/obj/aed_carbon.o
	   ../lib/libaed2/obj/aed_common.o
	   ../lib/libaed2/obj/aed_core.o
	   ../lib/libaed2/obj/aed_csv_reader.o
	   ../lib/libaed2/obj/aed_dummy.o
	   ../lib/libaed2/obj/aed_external.o
	   ../lib/libaed2/obj/aed_gclib.o
	   ../lib/libaed2/obj/aed_gcsolver.o
	   ../lib/libaed2/obj/aed_gctypes.o
	   ../lib/libaed2/obj/aed_geochemistry.o
	   ../lib/libaed2/obj/aed_habitat_water.o
	   ../lib/libaed2/obj/aed_nitrogen.o
	   ../lib/libaed2/obj/aed_noncohesive.o
	   ../lib/libaed2/obj/aed_organic_matter.o
	   ../lib/libaed2/obj/aed_oxygen.o
	   ../lib/libaed2/obj/aed_pathogens.o
	   ../lib/libaed2/obj/aed_pesticides.o
	   ../lib/libaed2/obj/aed_phosphorus.o
	   ../lib/libaed2/obj/aed_phytoplankton.o
	   ../lib/libaed2/obj/aed_sedflux.o
	   ../lib/libaed2/obj/aed_silica.o
	   ../lib/libaed2/obj/aed_totals.o
	   ../lib/libaed2/obj/aed_tracer.o
	   ../lib/libaed2/obj/aed_util.o
	   ../lib/libaed2/obj/aed_water.o
	   ../lib/libaed2/obj/aed_zoop_utils.o
	   ../lib/libaed2/obj/aed_zooplankton.o
include = ../lib/libaed2/mod/
colors=False
quiet=False
target=simstrat.f90
dependon=../lib/csv_fortran/fobos:release-gnu((direct))
         ../lib/json_fortran/fobos:release-gnu((direct))
         ../lib/forbear/fobos:static-gnu((direct))
log=True

[release-intel]
compiler=intel
cflags=-c -O3
modsw=-module=
build_dir=.
src=../src/
colors=False
quiet=False
target=simstrat.f90
output=simstrat
dependon=../lib/csv_fortran/fobos:release-intel((direct))
         ../lib/json_fortran/fobos:release-intel((direct))
log=True

[debug-gnu]
compiler=Gnu
cflags=-c -O2 -std=f2008 -ffree-line-length-none -g -ffpe-trap=overflow,zero -fno-unsafe-math-optimizations -frounding-math -fsignaling-nans
lflags=-static-libgcc -static-libgfortran -static
build_dir=.
src=../src/
colors=False
quiet=False
target=simstrat.f90
output=simstrat
dependon=../lib/csv_fortran/fobos:release-gnu((direct))
         ../lib/json_fortran/fobos:release-gnu((direct))
         ../lib/forbear/fobos:static-gnu((direct))
log=True

[debug-gnu-dynamic]
compiler=Gnu
cflags=-c -O2 -std=f2008 -ffree-line-length-none -g -ffpe-trap=overflow,zero -fno-unsafe-math-optimizations -frounding-math -fsignaling-nans
lflags=-dynamic-libgcc -dynamic-libgfortran -dynamic
build_dir=.
src=../src/
colors=False
quiet=False
target=simstrat.f90
dependon=../lib/csv_fortran/fobos:release-gnu((direct))
         ../lib/json_fortran/fobos:release-gnu((direct))
         ../lib/forbear/fobos:static-gnu((direct))
log=True

[rule-makedoc]
help = Generate FORD documentation (see /doc/developer folder)
rule = ford ../doc/developer/ford/ford_projectfile.md

[rule-purge]
help = Clean all the libraries (.mod and .obj)
rule_1 = cd ../lib/csv_fortran && FoBiS.py clean
rule_2 = cd ../lib/json_fortran/static && FoBiS.py clean
rule_3 = cd ../lib/forbear/static && FoBiS.py clean
rule_4 = echo Please clean libaed subdirectories lib, mod and obj manually!
